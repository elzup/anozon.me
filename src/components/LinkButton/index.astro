---
import type { IconProp } from '@fortawesome/fontawesome-svg-core'
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'

const getIcon = (url: string): IconProp => {
	if (url.search('github') >= 0) {
		return ['fab', 'github']
	} else if (url.search('tumblr') >= 0) {
		return ['fab', 'tumblr']
		// } else if (url.search('annict') >= 0) {
		// 	return 'annict'
	} else {
		return 'arrow-circle-right'
	}
}

const { href, text } = Astro.props
const icon = getIcon(href)

export interface Props {
	href: string
	text?: string
}
---

<a href={href} aria-label={text} target="_blank" rel="noopener noreferrer">
	<div>
		<div class="container">
			{text && <div class="label">{text}</div>}
			<div class="icon">
				<FontAwesomeIcon icon={icon} inverse />
			</div>
		</div>
	</div>
</a>

<style>
	@keyframes hilight {
		from {
			box-shadow: 1px 1px;
		}

		to {
			box-shadow: 1px 1px #aaa;
			background: #cdcdcd;
		}
	}

	.container {
		background: #fff;
		box-shadow: 1px 1px;
		display: inline-flex;
		margin-top: 5px;
		&:hover {
			animation: hilight 0.5s ease 0s forwards;
		}
	}

	.label {
		padding: 5px;
	}

	.icon {
		padding: 5px;
		background: black;
		width: 1em;
		text-align: center;
	}
</style>
